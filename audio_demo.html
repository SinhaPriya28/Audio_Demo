<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HTML Audio Tag — Simple Demo</title>
  <style>
    body {
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      max-width: 900px;
      margin: 32px auto;
      padding: 0 16px;
      color: #111;
    }
    header {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    h1 {
      font-size: 1.25rem;
      margin: 0;
    }
    .card {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 16px;
      margin-top: 16px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.03);
    }
    .controls {
      display: flex;
      gap: 8px;
      align-items: center;
      margin-top: 12px;
      flex-wrap: wrap;
    }
    button, input[type=range] {
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
      background: white;
    }
    .info {
      font-size: 0.95rem;
      margin-top: 12px;
    }
    code {
      background: #f3f3f3;
      padding: 2px 6px;
      border-radius: 4px;
    }
    .supported-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }
    .tagpill {
      background: #eef;
      padding: 6px 8px;
      border-radius: 999px;
      font-size: 0.9rem;
      border: 1px solid #cce;
    }
  </style>
</head>
<body>
  <header>
    <h1>HTML <code>&lt;audio&gt;</code> tag — minimal example</h1>
  </header>

  <section class="card">
    <p>Below is an <code>&lt;audio&gt;</code> element using multiple <code>&lt;source&gt;</code> fallbacks and a caption track. Try the buttons below to control playback with JavaScript.</p>

    <!-- The audio element -->
    <audio id="myAudio" preload="metadata" controls>
      <!-- multiple sources: browser will pick the first supported -->
      <source src="https://www.w3schools.com/html/horse.mp3" type="audio/mpeg">
      <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-audio/t-rex-roar.mp3" type="audio/mpeg">
      <!-- captions via data URI (WebVTT) -->
      <track kind="captions" srclang="en" label="English" default src="data:text/vtt;charset=utf-8,WEBVTT%0A%0A00:00:00.000%20--%3E%2000:00:05.000%0AHello%2C%20this%20is%20a%20caption.%0A">
      <!-- fallback content for very old browsers -->
      Your browser does not support the <code>&lt;audio&gt;</code> element. You can <a href="https://www.w3schools.com/html/horse.mp3">download the audio file</a> instead.
    </audio>

    <div class="controls">
      <button id="playBtn">Play</button>
      <button id="pauseBtn">Pause</button>
      <button id="stopBtn">Stop</button>

      <label for="seek">Seek</label>
      <input id="seek" type="range" min="0" max="100" value="0">

      <label for="volume">Volume</label>
      <input id="volume" type="range" min="0" max="1" step="0.01" value="1">
    </div>

    <div class="info" id="info">
      <strong>State:</strong> <span id="state">stopped</span> —
      <strong>Time:</strong> <span id="time">0:00</span> /
      <span id="duration">0:00</span>
    </div>

    <div class="info">
      <strong>Supported <code>&lt;audio&gt;</code> attributes & inner tags shown:</strong>
      <div class="supported-list">
        <span class="tagpill">controls</span>
        <span class="tagpill">autoplay</span>
        <span class="tagpill">loop</span>
        <span class="tagpill">muted</span>
        <span class="tagpill">preload</span>
        <span class="tagpill">src</span>
        <span class="tagpill">&lt;source&gt;</span>
        <span class="tagpill">&lt;track&gt; (captions/subtitles)</span>
        <span class="tagpill">fallback text</span>
      </div>
    </div>

    <div class="info" style="margin-top:12px">
      <strong>Notes:</strong>
      <ul>
        <li><code>&lt;source&gt;</code> elements let you provide the same audio in different formats (mp3, ogg, wav). Browsers pick the first format they support.</li>
        <li><code>&lt;track&gt;</code> is used for captions/subtitles in WebVTT format. You can provide multiple tracks for different languages.</li>
        <li><code>preload</code> values: <code>none</code>, <code>metadata</code>, <code>auto</code>.</li>
      </ul>
    </div>
  </section>

  <script>
    const audio = document.getElementById('myAudio');
    const playBtn = document.getElementById('playBtn');
    const pauseBtn = document.getElementById('pauseBtn');
    const stopBtn = document.getElementById('stopBtn');
    const seek = document.getElementById('seek');
    const volume = document.getElementById('volume');
    const state = document.getElementById('state');
    const time = document.getElementById('time');
    const duration = document.getElementById('duration');

    function formatTime(s) {
      if (isNaN(s)) return '0:00';
      const m = Math.floor(s / 60);
      const sec = Math.floor(s % 60).toString().padStart(2, '0');
      return `${m}:${sec}`;
    }

    audio.addEventListener('loadedmetadata', () => {
      duration.textContent = formatTime(audio.duration);
      seek.max = Math.floor(audio.duration);
    });

    audio.addEventListener('timeupdate', () => {
      time.textContent = formatTime(audio.currentTime);
      seek.value = Math.floor(audio.currentTime);
    });

    audio.addEventListener('play', () => state.textContent = 'playing');
    audio.addEventListener('pause', () => state.textContent = 'paused');
    audio.addEventListener('ended', () => state.textContent = 'ended');

    playBtn.addEventListener('click', () => audio.play());
    pauseBtn.addEventListener('click', () => audio.pause());
    stopBtn.addEventListener('click', () => {
      audio.pause();
      audio.currentTime = 0;
      state.textContent = 'stopped';
    });

    seek.addEventListener('input', () => {
      audio.currentTime = seek.value;
    });

    volume.addEventListener('input', () => {
      audio.volume = volume.value;
    });

    // progressive feature detection
    const capabilities = [];
    const el = document.createElement('audio');
    if (el.canPlayType) {
      capabilities.push('canPlayType() supported');
      ['audio/mpeg', 'audio/ogg', 'audio/wav'].forEach(type => {
        const support = el.canPlayType(type);
        capabilities.push(`${type} → ${support || 'no'}`);
      });
    } else {
      capabilities.push('canPlayType() NOT supported');
    }
    console.log('Audio capabilities:', capabilities.join(' | '));
  </script>
</body>
</html>
